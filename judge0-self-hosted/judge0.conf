################################################################################
# Judge0 Configuration File
################################################################################

# Redis Configuration
REDIS_HOST=judge0-redis
REDIS_PORT=6379
REDIS_PASSWORD=judge0_redis_password_change_me

# PostgreSQL Configuration
POSTGRES_HOST=judge0-db
POSTGRES_PORT=5432
POSTGRES_DB=judge0
POSTGRES_USER=judge0
POSTGRES_PASSWORD=judge0_secure_password_change_me

# Judge0 Server Configuration
RAILS_ENV=production
RAILS_MAX_THREADS=10

# Enable specific languages (comment out to enable all)
# Uncomment and customize to restrict available languages
# ENABLE_COMPILER_OPTIONS=false
# ALLOWED_LANGUAGES_FOR_COMPILE_OPTIONS=

# Resource Limits
# CPU time limit in seconds (per submission)
MAX_CPU_TIME_LIMIT=15
# Maximum CPU time limit that can be requested via API
MAX_CPU_EXTRA_TIME=5

# Wall time limit in seconds
MAX_WALL_TIME_LIMIT=150

# Memory limit in KB
MAX_MEMORY_LIMIT=512000

# Maximum number of processes
MAX_PROCESSES_AND_OR_THREADS=60

# Maximum file size in KB
MAX_FILE_SIZE=1024

# Enable/Disable wait parameter
ENABLE_WAIT_RESULT=true

# Enable/Disable batch submissions
ENABLE_BATCH_SUBMISSIONS=false

# Use simple execution without isolate sandbox (for cgroup v2 systems)
USE_DOCS_AS_HOMEPAGE=false

# Disable isolate sandboxing (fallback for cgroup v2)
ENABLE_PER_PROCESS_AND_THREAD_TIME_LIMIT=false
ENABLE_PER_PROCESS_AND_THREAD_MEMORY_LIMIT=false

# Worker Configuration
# Number of parallel workers
WORKERS_COUNT=4

# Callback Configuration
ENABLE_CALLBACKS=true
CALLBACKS_MAX_TRIES=3
CALLBACKS_TIMEOUT=10

# Security
# Maintenance mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="Judge0 is currently under maintenance."

# Enable compiler options
ENABLE_COMPILER_OPTIONS=false

# Enable command line arguments
ENABLE_COMMAND_LINE_ARGUMENTS=true

# Authentication (optional - set to enable API authentication)
# JUDGE0_AUTHENTICATION_HEADER=X-Auth-Token
# JUDGE0_AUTHENTICATION_TOKEN=your_secret_token_here

# Logging
LOG_LEVEL=info

# Submission cleanup
# Delete submissions older than N days (0 to disable)
DELETE_SUBMISSIONS_AFTER_DAYS=30
